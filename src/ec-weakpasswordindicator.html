<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>EC Password Validator</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  
  <link rel="stylesheet" href="https://cdn.euroconsumers.org/vendor/jquery/jquery-ui/1.12.0/jquery-ui.min.css">
  <link rel="stylesheet" href="https://cdn.euroconsumers.org/vendor/jquery/jquery-ui/1.12.0/jquery-ui.theme.min.css">
  <link rel="stylesheet" href="ec-weakpasswordindicator.css">


</head>
<body>

  <h1>Password validator</h1>
  <p>This plugin helps user to set strong password by displaying strength of it in real-time. It can display some customized data.</p>
  <h2>Options</h2>
  <p>Plugin accepts options:</p>
  <table>
    <thead>
      <tr>
        <th>Option</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <!--Meter-->
        <td>showMeter</td>
        <td>boolean</td>
        <td>true</td>
        <td>Displayis status bar with password strength.</td>
      </tr>

      <!--Strength-->
      <tr>
        <td>showStrength</td>
        <td>boolean</td>
        <td>false</td>
        <td>Displays password strength in a user-friendly way. When is true, takes values from <code>strengthMap</code>.</td>
      </tr>

      <tr>
        <td>showSuggestions</td>
        <td>boolean</td>
        <td>false</td>
        <td>Displays suggestions about password that user typed directly from zxcvbn library. (example below)</td>
      </tr>

      <tr>
        <td>showScore</td>
        <td>boolean</td>
        <td>false</td>
        <td>Displays score of typed password in range between 0 - 4, where 0 is the weakest and 4 the strongest.</td>
      </tr>

      <tr>
        <td>showWarning</td>
        <td>boolean</td>
        <td>false</td>
        <td>Displays warning about typed password directly from zxcvbn library. In egzample: don't use common pasword</td>
      </tr>

      <tr>
        <td>showGuesses</td>
        <td>boolean</td>
        <td>false</td>
        <td>Displays number of guesses needed to hack your password</td>
      </tr>

      <tr>
        <td>strengthMap</td>
        <td>object</td>
        <td>
          <code>
             {</br>
                0: &quot;Worst&quot;,</br>
                1: &quot;Bad&quot;,</br>
                2: &quot;Weak&quot;,</br>
                3: &quot;Good&quot;,</br>
                4: &quot;Strong&quot;</br>
            }</br>
          </code>
        </td>
        <td>
          (Not yet implemented, will be (about 15mins))
          Used for customizing strength returned when <code>showStrength</code> parameter is set <code>true</code>.
          </br>
          You need to replace messages for all scores. If you put like below, rest of scores will be displayed blank.</br>
          <code>
            {</br>
                4: &quot;Excellent!&quot;</br>
            }</br>
          </code>
        </td>
      </tr>

    </tbody>
  </table>

  


  <h2>Examples</h2>
  <h3>Default</h3>
    <input 
    id="pv0" 
    type="password"
    class="form-control"
    data-plugin="weakpasswordindicator"
  />

  <h4>Source code</h4>
  <code>
     </br>
    &lt;input  </br>
    id=&quot;pv4&quot; </br>
    type=&quot;password&quot; </br>
    class=&quot;form-control&quot; </br>
    data-plugin=&quot;weakpasswordindicator&quot; </br>
    data-plugin-settings=&quot;#pv4-settings&quot; </br>
  /&gt;
  </code>

  <h3>Show suggestions</h3>
    <input 
      id="pv1" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv1-settings"
      placeholder="Password" />
    <script id="pv1-settings" type="application/json">
        {
            "showSuggestions": true,
            "showMeter": false
        }
    </script>
    <h4>Source code</h4>
    <code>
      &lt;input </br>
        id=&quot;pv1&quot; </br>
        type=&quot;password&quot;</br>
        data-plugin=&quot;weakpasswordindicator&quot;</br>
        data-plugin-settings=&quot;#pv1-settings&quot;</br>
        placeholder=&quot;Password&quot; /&gt;</br>
      &lt;script id=&quot;pv1-settings&quot; type=&quot;application/json&quot;&gt;</br>
          {</br>
              &quot;showSuggestions&quot;: true,</br>
              &quot;showMeter&quot;: false</br>
          }</br>
      &lt;/script&gt;</br>
    </code>




  <h3>Show score</h3>
    <input 
      id="pv2" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv2-settings"
      placeholder="Password" />
    <script id="pv2-settings" type="application/json">
        {
            "showScore": true,
            "showMeter": false
        }
    </script>
    <h4>Source code</h4>
    <code>
          &lt;input </br>
      id=&quot;pv2&quot;  </br>
      type=&quot;password&quot; </br>
      data-plugin=&quot;weakpasswordindicator&quot; </br>
      data-plugin-settings=&quot;#pv2-settings&quot; </br>
      placeholder=&quot;Password&quot; /&gt; </br>
    &lt;script id=&quot;pv2-settings&quot; type=&quot;application/json&quot;&gt; </br>
        { </br>
            &quot;showScore&quot;: true, </br>
            &quot;showMeter&quot;: false </br>
        } </br>
    &lt;/script&gt; </br>
    </code>

    <h3>Show strength</h3>
    <input 
      id="pv3" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv3-settings"
      placeholder="Password" />
    <script id="pv3-settings" type="application/json">
        {
          "showStrength": true,
          "showMeter": false
        }
    </script>
    <h4>Source code</h4>
    <code>
      &lt;input </br>
      id=&quot;pv3&quot; </br>
      type=&quot;password&quot;</br>
      data-plugin=&quot;weakpasswordindicator&quot;</br>
      data-plugin-settings=&quot;#pv3-settings&quot;</br>
      placeholder=&quot;Password&quot; /&gt;</br>
    &lt;script id=&quot;pv3-settings&quot; type=&quot;application/json&quot;&gt;</br>
        {</br>
          &quot;showStrength&quot;: true,</br>
          &quot;showMeter&quot;: false</br>
        }</br>
    &lt;/script&gt;</br>
    </code>
    

    <h3>Show number of guesses needed to guess a password</h3>
    <input 
      id="pv4" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv4-settings"
      placeholder="Password" />
    <script id="pv4-settings" type="application/json">
        {
          "showGuesses": true,
          "showMeter": false
        }
    </script>
    <h4>Source code</h4>
    <code>
      &lt;input </br>
      id=&quot;pv4&quot; </br>
      type=&quot;password&quot;</br>
      data-plugin=&quot;weakpasswordindicator&quot;</br>
      data-plugin-settings=&quot;#pv4-settings&quot;</br>
      placeholder=&quot;Password&quot; /&gt;</br>
    &lt;script id=&quot;pv4-settings&quot; type=&quot;application/json&quot;&gt;</br>
        {</br>
          &quot;showGuesses&quot;: true,</br>
          &quot;showMeter&quot;: false</br>
        }</br>
    &lt;/script&gt;</br>
    </code>
    

    <h3>Show strength (modified <code>strengthMap</code> parameter)</h3>
    <input 
      id="pv5" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv5-settings"
      placeholder="Password" />
    <script id="pv5-settings" type="application/json">
        {
          "showMeter": false,
          "showStrength": true,
          "strengthMap": {
            "0": "So bad you can't imagine",
            "1": "Still very bad",
            "2": "Rather weak",
            "3": "Nice one password you have!",
            "4": "Excellent password!"
          }
        }
    </script>
    <h4>Source code</h4>
    <code>
      &lt;input </br>
      id=&quot;pv5&quot; </br>
      type=&quot;password&quot;</br>
      data-plugin=&quot;weakpasswordindicator&quot;</br>
      data-plugin-settings=&quot;#pv5-settings&quot;</br>
      placeholder=&quot;Password&quot; /&gt;</br>
    &lt;script id=&quot;pv5-settings&quot; type=&quot;application/json&quot;&gt;</br>
        {</br>
          &quot;showMeter&quot;: false,</br>
          &quot;showStrength&quot;: true,</br>
          &quot;strengthMap&quot;: {</br>
            &quot;0&quot;: &quot;So bad you can't imagine&quot;,</br>
            &quot;1&quot;: &quot;Still very bad&quot;,</br>
            &quot;2&quot;: &quot;Rather weak&quot;,</br>
            &quot;3&quot;: &quot;Nice one password you have!&quot;,</br>
            &quot;4&quot;: &quot;Excellent password!&quot;</br>
          }</br>
        }</br>
    &lt;/script&gt;</br>
    </code>
    

    <h3>All parameters</h3>
    <input 
      id="pv6" 
      type="password"
      data-plugin="weakpasswordindicator"
      data-plugin-settings="#pv6-settings"
      placeholder="Password" />
    <script id="pv6-settings" type="application/json">
        {
          "showSuggestions": true,
          "showWarning": true,
          "showWarning": true,
          "showStrength": true,
          "showScore": true,
          "strengthMap": {
            "0": "So bad you can't imagine",
            "1": "Still very bad",
            "2": "Rather weak",
            "3": "Nice one password you have!",
            "4": "Excellent password!"
          }
        }
    </script>
    <h4>Source code</h4>
    <code>
       &lt;input </br>
      id=&quot;pv6&quot; </br>
      type=&quot;password&quot;</br>
      data-plugin=&quot;weakpasswordindicator&quot;</br>
      data-plugin-settings=&quot;#pv6-settings&quot;</br>
      placeholder=&quot;Password&quot; /&gt;</br>
    &lt;script id=&quot;pv6-settings&quot; type=&quot;application/json&quot;&gt;</br>
        {</br>
          &quot;showSuggestions&quot;: true,</br>
          &quot;showWarning&quot;: true,</br>
          &quot;showWarning&quot;: true,</br>
          &quot;showStrength&quot;: true,</br>
          &quot;showScore&quot;: true,</br>
          &quot;strengthMap&quot;: {</br>
            &quot;0&quot;: &quot;So bad you can't imagine&quot;,</br>
            &quot;1&quot;: &quot;Still very bad&quot;,</br>
            &quot;2&quot;: &quot;Rather weak&quot;,</br>
            &quot;3&quot;: &quot;Nice one password you have!&quot;,</br>
            &quot;4&quot;: &quot;Excellent password!&quot;</br>
          }</br>
        }</br>
    &lt;/script&gt;</br>
    </code>
    


    <script src="https://cdn.euroconsumers.org/vendor/jquery/jquery/2.1.4/jquery-2.1.4.min.js"></script>
    <script src="https://cdn.euroconsumers.org/vendor/jquery/jquery-ui/1.12.0/jquery-ui.min.js"></script>
    <script src="https://cdn.euroconsumers.org/vendor/zxcvbn/4.4.2/dist/zxcvbn.js"></script>
    <script src="ec-weakpasswordindicator.js"></script>

    <!-- <script src="libs/simple-loader.js"></script> -->
    <script>
    /**
     * Loads plugins in a simple way. No looking for dependencies, flat loading.
     */
    const simpleLoadPlugins = () => {
        // Find all objects with data-plugin attribute
        const $plugins = $('[data-plugin]');

        // Execute proper function on each
        $plugins.each(function(el) {
            let pluginName = $(this).attr('data-plugin')
            let pluginId = $(this).attr('id')
            
            console.log(`Plugin: ${pluginName}#${pluginId}`)

            let settingsId = $(this).attr('data-plugin-settings')
            console.log('Settings el. ID:', settingsId)


            let settings = {}
            if(settingsId) {
                let $settingsElement = $(settingsId)

                try {
                    settings = $settingsElement.text() && JSON.parse($settingsElement.text())
                } catch(e) {
                    throw new Error(e)
                }
            }


            console.log('Settings: ', settings);

            $(this)[pluginName](settings)
        })
    }

    $(document).ready(() => {
        simpleLoadPlugins()
    })
    </script>

</body>
</html>